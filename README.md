# 実行方法
python3 logWatcher.py ログファイル名 [-n 設定したいN] [-m 設定したいM] [-t 設定したいT]

nを設定しなかった場合，設問1と同様にN=1として扱う．m, tのどちらか一方でも指定しなかった場合，過負荷状態を表示しない．

# 仕様
最後まで応答が復活しなかった場合は故障として記録しない．
最後まで過負荷状態だったサーバーは”-now”として現在も過負荷状態であると表示される．

# 実験結果
## log1.csvでの実験
```
python3 logWatcher.py log1.csv
故障していたサーバー
192.168.1.1/24 20201019133134 - 20201019133234
10.20.30.1/16 20201019133124 - 20201019133324

故障していたサブネット
10.20 20201019133124 - 20201019133125
192.168.1 20201019133134 - 20201019133135
```
20201019133134に192.168.1.1が応答せず，次の20201019133234では応答するようになっているためこの間を故障として記録する．
10.20.30.1は20201019133124と20201019133224で応答せず，20201019133324で応答したため20201019133124から20201019133124までを故障として記録する．

```
python3 logWatcher.py log1.csv -n 2
故障していたサーバー
10.20.30.1/16 20201019133124 - 20201019133324

故障していたサブネット
なし
```
N=2とすると10.20.30.1のみを故障として記録する．

## log2.csvでの実験
```
python3 logWatcher.py log2.csv -t 30 -m 2
故障していたサーバー
192.168.1.1/24:20201019133134 - 20201019133234

過負荷状態だったサーバー
server 10.20.30.1/16
20201019133224 - 20201019133224

故障していたサブネット
192.168.1:20201019133134 – 20201019133135
```
T=20, M=2とすると，10.20.30.1が20201019133124, 20201019133224で応答に時間がかかっているため，20201019133224から20201019133324までが過負荷状態として記録される．

```
python3 logWatcher.py log2.csv -t 70 -m 2
故障していたサーバー
192.168.1.1/24:20201019133134 - 20201019133234

過負荷状態だったサーバー
server 10.20.30.1/16
20201019133224 - 20201019133224

故障していたサブネット
192.168.1:20201019133134 – 20201019133135
```
T=70とすると20201019133224の時点のみが過負荷として記録される．

```
python3 logWatcher.py log2.csv -t 50 -m 3 
故障していたサーバー
192.168.1.1/24 20201019133134 - 20201019133234

過負荷状態だったサーバー
server 10.20.30.1/16
20201019133324 - 20201019133324

故障していたサブネット
192.168.1 20201019133134 - 20201019133135
```
T=50, M=3とすると20201019133224の時点が，T=20とすると20201019133224から現在までが過負荷状態として記録される．

```
python3 logWatcher.py log2.csv -t 20 -m 3
故障していたサーバー
192.168.1.1/24 20201019133134 - 20201019133234

過負荷状態だったサーバー
server 10.20.30.1/16
20201019133324 - now

故障していたサブネット
192.168.1 20201019133134 - 20201019133135
```

## log3.csvでの実験
python3 logWatcher.py log3.csv -n 2
```
故障していたサーバー
192.168.1.1/24 20201019133134 - 20201019133234
192.168.1.2/24 20201019133137 - 20201019133235

故障していたサブネット
192.168.1 20201019133236 - 20201019133334
```
N=2で入力すると192.168.1.1/24が20201019133134，20201019133136で連続して応答していないが，その間に192.168.1.2/24が応答しているのでこれはサブネットの故障とはならない．その後20201019133137で192.168.1.2/24も応答していないため，20201019133236から20201019133334までサブネット全体の故障として記録される．
